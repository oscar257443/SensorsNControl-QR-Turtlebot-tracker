# SensorsNControl-QR-Turtlebot-tracker

## Individual Contribution
Quoc Minh Tran SID 12853305 40%

Oscar Gullickson SID 13558578  30%

Ben Thomas SID 13973108 30%


## Code Description
### Enviroment


### Slam and Path Planning
Simultaneous Localisation and Mapping (SLAM) is a fundamental technique in robotics that involves the real-time mapping of an environment while simultaneously tracking the robot's position within that environment. In the context of this project, SLAM is crucial as it allows the Turtlebot, to create a map of its surroundings using the sensor data from the square's corners. The robot can use this map to understand its location in the coordinate frame and navigate effectively. Accurate SLAM ensures that the robot can follow a straight line perpendicular to the square with precision, even in the presence of observation noise. Without SLAM, the robot would struggle to make sense of its environment, and following a precise path would be challenging.

Path planning is the process of determining the best route for the robot to reach its desired destination within the mapped environment. In this project, path planning is essential to guide the robot along a straight line perpendicular to the square. It takes into account the information generated by SLAM to compute a path that avoids obstacles and noise-induced inaccuracies. Proper path planning ensures that the robot can navigate the environment with precision and efficiency, ensuring it follows the desired route. The combination of SLAM and path planning is pivotal to the project's success, allowing the robot to achieve its goal of following a straight line with accuracy, even with sensor noise.

### Slam Commands
Slam and path planning Commands

export TURTLEBOT3_MODEL=waffle
roslaunch turtlebot3_gazebo SnC.launch

export TURTLEBOT3_MODEL=waffle
roslaunch turtlebot3_slam turtlebot3_slam.launch slam_methods:=hector

export TURTLEBOT3_MODEL=waffle
roslaunch turtlebot3_teleop turtlebot3_teleop_key.launch

rosrun map_server map_saver -f ~/SnC	//to save map 

CLOSE ALL

### Path Planning Commands

export TURTLEBOT3_MODEL=waffle
roslaunch turtlebot3_gazebo SnC.launch

export TURTLEBOT3_MODEL=waffle
roslaunch turtlebot3_navigation turtlebot3_navigation.launch map_file:=$HOME/SnC.yaml

//set initial pose using 2D Pose estimate button

export TURTLEBOT3_MODEL=waffle
roslaunch turtlebot3_teleop turtlebot3_teleop_key.launch

//move around to get good data

//close the telop with CTRL + C

//Set Nav Goal using 2D Nav Goal button

### Python scripts
There is a total of 4 python scripts. 
I created 3 pieces of code that each served a difference purpose and then integrated them into a singular functional piece of code, called TurtlebotVisualServoing.py, that combined the 3.  This code does not function as one of the subcodes was not able to be completed , Visual servoing, in time for submission therefore the control systems are not working.

The sub codes are VisualServoing.py, VisualCode.py, and ROS2CV2.py. 

The ROS2CV2.py  involved subscribe the camera data and importing it to the python environment for further processing. This is working as intended

The VisualCode.py involved creating a publishing node that gives the next position for the robot to move to in the visual servoing method. This works by creating a rostopic and node and transforming a x y theta input to the function to the posestamp format desired by the rospackage. We also have to change the euler angle to a quaternion format in order to meet the requirements of the format. Then we publish the goal and the path planning works as intended. This is working as intended.

The VisualServoing.py this part I worked on was the detection and then visual servoing. This grabs the images then proceeds to use orb feature detection and brute force matching to get matching pair. Then we filter the pair in order to get the good pairs. This is where we stop as we wasnt able to perform the calculations due to python inexperience combined with lack of time remaining 

Required packages for the python scripts:
    pip install roslibpy
    pip install opencv-python==4.7.0.68
